import{a as t,P as e,T as o,B as i,G as s,y as n,b as p,t as r,_ as a,n as l,J as h,ay as c,aS as u,e as d}from"./shell-2264602c.js";import{G as y}from"./guides-224224e6.js";import{x as b,s as m}from"./icon-82dd10b4.js";import{R as T}from"./header-action-item-chat-client-js-8d009dcd.js";var g;let k=g=class extends(t(m)){constructor(){super(...arguments),this.entrypointType="hamburger",this.country="US",this.isUserLoggedIn=!1,this.pubsub=new e(this),this.onClickHandler=t=>{t.target instanceof g&&(t.stopPropagation(),t.preventDefault()),this.tooltipElement?.hide()},this.showTooltip=()=>{this.tooltipElement instanceof T&&this.tooltipElement.show()},this.handleTooltipOpen=t=>{"hamburger"===t&&"navbar"===this.entrypointType&&this.tooltipElement?.hide()},this.onTooltipOpen=()=>{"hamburger"===this.entrypointType&&this.pubsub.publish(o.GuidesEntrypointTooltipOpen,"hamburger");const t=this.cookies?`${this.cookies}|${this.entrypointType}`:this.entrypointType;i({country:this.country,name:y,value:`${t}`,options:s}),this.trackTooltipView()}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(o.GuidesEntrypointTooltipOpen,this.handleTooltipOpen),this.addEventListener("click",this.onClickHandler)}disconnectedCallback(){super.disconnectedCallback(),this.tooltipElement?.hide(),this.pubsub.unsubscribe(o.GuidesEntrypointTooltipOpen,this.handleTooltipOpen),this.removeEventListener("click",this.onClickHandler)}firstUpdated(){this.cookies=n.get(y),this.cookies&&this.cookies.includes(this.entrypointType)||setTimeout((()=>{this.tooltipElement&&this.showTooltip()}))}trackTooltipView(){const t=p({source:"gen_guides",action:"view",noun:"nux_tooltip"},{action_info:{source_name:this.entrypointType}});this.trackEvent(t)}render(){return b` <rpl-tooltip @rpl-tooltip:show="${this.onTooltipOpen}" placement="${"hamburger"===this.entrypointType||"desktop"===this.entrypointType?"bottom-start":this.isUserLoggedIn?"bottom":"bottom-end"}" appearance="inverted" trigger="" content="NEW! Ask a question and Reddit Answers" class="flex"> <slot></slot> </rpl-tooltip> `}};k.styles=[r],a([l({type:String,attribute:"entrypoint-type"})],k.prototype,"entrypointType",void 0),a([l({type:String,attribute:"country"})],k.prototype,"country",void 0),a([h("rpl-tooltip")],k.prototype,"tooltipElement",void 0),a([c({context:u}),l({attribute:!1})],k.prototype,"isUserLoggedIn",void 0),k=g=a([d("guides-entrypoint-tooltip")],k);
