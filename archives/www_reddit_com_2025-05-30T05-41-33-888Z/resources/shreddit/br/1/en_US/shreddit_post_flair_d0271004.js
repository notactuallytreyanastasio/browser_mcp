import{Q as t,t as s,_ as e,n as i,T as r,e as a}from"./shell-2264602c.js";import{s as o,x as l}from"./icon-82dd10b4.js";const n=t(o),d=new DOMParser;let c=class extends n{constructor(){super(...arguments),this.postId="",this.flairClass="",this.onPostFlairChange=t=>{t.postId===this.postId&&this.renderUpdatedFlair(t.updatedHtml)}}connectedCallback(){super.connectedCallback(),requestAnimationFrame((()=>{this.subscribe(r.PostFlairUpdated,this.onPostFlairChange)}))}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(r.PostFlairUpdated,this.onPostFlairChange)}renderUpdatedFlair(t){const s=this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0];if(!t&&s)return void s.remove();const e=d.parseFromString(t,"text/html").body.firstChild;if(e){if(this.flairClass&&e instanceof HTMLElement){const t=this.flairClass.split(" ").filter((t=>!!t));e.classList.add(...t)}s?s.replaceWith(e):this.appendChild(e)}}render(){return l`<slot></slot>`}};c.styles=[s],e([i({type:String,attribute:"post-id"})],c.prototype,"postId",void 0),e([i({type:String,attribute:"flair-class"})],c.prototype,"flairClass",void 0),c=e([a("shreddit-post-flair")],c);
