import{Q as t,_ as s,n as e,e as o,T as d}from"./shell-2264602c.js";import{s as i,a,x as r}from"./icon-82dd10b4.js";const n=t(i),l=new DOMParser;let h=class extends n{constructor(){super(...arguments),this.userId="",this.subredditId="",this.onUpdateFlairEvent=({html:t,subredditId:s,userId:e,isEnabled:o})=>{if(this.userId===e&&this.subredditId===s){const s=t&&o,e=s?t:'<span class="hidden"></span>',d=l.parseFromString(e,"text/html").body.firstChild;d&&(this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0].replaceWith(d),s?this.showHost():this.hideHost())}}}static get styles(){return a`:host{--display:flex;display:var(--display);overflow:hidden}`}onSlotChanged(t){const s=t.target?.assignedElements({flatten:!0});s?.some((t=>"SPAN"===t.nodeName&&t.classList.contains("hidden")))&&this.hideHost()}connectedCallback(){super.connectedCallback(),this.subscribe(d.CommunityAuthorFlairUpdated,this.onUpdateFlairEvent)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(d.CommunityAuthorFlairUpdated,this.onUpdateFlairEvent)}hideHost(){(this.shadowRoot?.host).style.setProperty("--display","none")}showHost(){(this.shadowRoot?.host).style.setProperty("--display","flex")}render(){return r`<slot @slotchange="${this.onSlotChanged}"></slot>`}};s([e()],h.prototype,"userId",void 0),s([e()],h.prototype,"subredditId",void 0),h=s([o("author-flair-event-handler")],h);
