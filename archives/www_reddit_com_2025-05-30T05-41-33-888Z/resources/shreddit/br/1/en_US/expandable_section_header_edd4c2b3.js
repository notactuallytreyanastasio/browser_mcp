import{L as e,hx as t,dJ as s,M as n,O as a}from"./shell-2264602c.js";import{g as r,e as i,i as o,cG as l,cH as c,B as d,A as p,bH as u,cI as g,cJ as h,N as f}from"./icon-82dd10b4.js";var x;!function(e){e.Small="sm",e.Medium="md"}(x||(x={}));const m=e=>{let t;return"boolean"==typeof e&&(t=e?"true":"false"),t},b=e=>{const{attributes:t,trailingSlot:s,selected:n,liRole:a}=e,{html:i,createElement:o}=r(),{role:l,tabindex:c,"aria-disabled":d,"aria-selected":p,...u}=t||{},g=i`${y(e)} ${v(s)}`;return o("li",{...u,className:`relative list-none mt-0 ${t?.className||""}`,rpl:!0,rplSelected:n,role:a||"presentation"},g)},y=e=>{const{anchorAttributes:t,appearance:s,description:n,disabled:a,href:i,innerClassName_DO_NOT_USE:o,label:l,leadingAvatar:c,leadingIcon:d,noXPadding:p=!1,onClick:u,selected:g,size:h=x.Medium,trailingSlot:f,attributes:b,suppressHoverStyles:y=!1}=e,v=!g&&e.hasTransparentBackground,{html:k,createElement:S,ifDefined:N}=r(),{role:I,tabindex:T}=b??{},j=Boolean(T??b?.onclick??e.onClick),C=j?parseInt(T??"0"):void 0,_=!y&&(null!=i||j),O=e=>{return t=e,_?t:"";var t},E=["flex justify-between relative",(p?"px-xs -mx-xs":"px-md")+" gap-[0.5rem]","danger"===s?g?"text-danger-content":`text-danger-content ${O("hover:text-danger-content-hover")}`:g?"text-secondary-onBackground":`text-secondary ${O("hover:text-secondary-hover")}`,`${v?"":g?`bg-neutral-background-selected ${O("hover:bg-neutral-background-selected")}`:`${O("active:bg-interactive-pressed")}`} ${O("hover:bg-neutral-background-hover")}`,`${O("hover:no-underline")}`,`${O("cursor-pointer")}`,a?"opacity-60 pointer-events-none":"",h===x.Medium?"py-xs":"py-2xs"," -outline-offset-1",o].join(" "),P=k` <span class="flex items-center gap-xs min-w-0 shrink"> ${d?k` <span class="flex shrink-0 items-center justify-center h-xl w-xl text-20 leading-4"> ${d} </span>`:void 0} ${c?k`<span class="flex shrink-0 items-center justify-center h-xl w-xl"> <span class="text-20 leading-4">${c}</span> </span>`:void 0} <span class="flex flex-col justify-center min-w-0 shrink py-[var(--rem6)]"> <span class="text-14">${l}</span> <span class="text-12 text-secondary-weak">${n}</span> </span> </span> ${w(f)} `;return i?S("a",{...t,role:I,href:i,tabindex:C,onclick:u,className:`${E} ${t?.className?t.className:""} no-underline`,style:`padding-right: ${$(e)}`},P):k`<div aria-disabled="${N(m(a)||b?.["aria-disabled"])}" aria-selected="${N(m(g)||b?.["aria-selected"])}" role="${N(I)}" tabindex="${N(C)}" class="${E}" @click="${u}" @keydown="${e=>{"Enter"!==e.code&&"Space"!==e.code||!u||u(e)}}" style="padding-right:${$(e)}"> ${P} </div>`};function $({trailingSlot:e}){if("object"!=typeof e||!("type"in e))return"16px";switch(e.type){case"iconButton":return"58px";case"switchInput":return"80px";default:return"16px"}}const v=e=>{if("object"!=typeof e||!("type"in e))return null;const{html:t}=r();return t`<div class="absolute top-1/2" style="right:${function(e){if("object"!=typeof e||!("type"in e))return"16px";switch(e.type){case"iconButton":return"10px";case"switchInput":return"8px";default:return"16px"}}(e)};transform:translateY(-50%)"> ${e.content} </div>`},w=e=>{if("object"==typeof e&&"type"in e)return null;const{html:t}=r();return t`<span class="flex items-center shrink-0"> <span class="flex items-center justify-center h-lg">${e}</span> </span>`},k=3e5,S=18e5,N=72e6,I=[N,N,1296e5,216e6,216e6],T=()=>{const t=localStorage.getItem(e.CrosspostingUpsellExperiment);if(t)return JSON.parse(t)},j=t=>{localStorage.setItem(e.CrosspostingUpsellExperiment,JSON.stringify(t))},C=async e=>{if((()=>{const e=T();if(!e)return!1;const{timer:t,snoozes:s,savedDate:n}=e;return s>=I.length||(new Date).getTime()-n<t})())return;const t=await n({operation:a.WhereToCrosspostNewModSuggestions,variables:{postId:e}}),s=t.data?.whereToCrosspostSuggestions?.edges;return s&&s?.length>0&&"Subreddit"===s[0]?.node?.subredditInfo.__typename?s[0]?.node?.subredditInfo:void 0};function _(e){const{currentPost:n,destinationSubreddit:a}=e,r=n.postType,i=a.subredditId&&a.path&&a.allowedPostTypes,o=n.postId&&r&&n.subredditId;if(i&&o&&n.subredditId!==a.subredditId&&(!n.isSpoiler||a.allowedPostTypes?.includes(t.Spoiler))&&(!n.isNsfw||a.isNsfw)){return r===s.Crosspost&&n.hasVideo?!a.isNsfw&&!a.isPrivate:a.allowedPostTypes?.includes(r.toUpperCase())}return!1}const O=i(class extends o{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(e,[t]){if(l(this.et)&&(!l(t)||this.et.strings!==t.strings)){const t=c(e).pop();let s=this.tt.get(this.et.strings);if(void 0===s){const e=document.createDocumentFragment();s=d(p,e),s.setConnected(!1),this.tt.set(this.et.strings,s)}u(s,[t]),g(s,void 0,t)}if(l(t)){if(!l(this.et)||this.et.strings!==t.strings){const s=this.tt.get(t.strings);if(void 0!==s){const t=c(s).pop();h(e),g(e,void 0,t),u(e,[t])}}this.et=t}else this.et=void 0;return this.render(t)}}),E={"list-item":"","group-label":"text-12 text-secondary-weak tracking-widest",title:"text-16 text-neutral-content-strong"},P=({appearance:e="list-item",attributes:t,innerClassName_DO_NOT_USE:s,label:n,leadingIcon:a,noXPadding:i})=>{const{html:o}=r();return b({attributes:{...t,tabindex:"-1"},hasTransparentBackground:!0,innerClassName_DO_NOT_USE:s,label:o`<span class="${E[e]}">${n}</span>`,leadingIcon:a,size:x.Small,trailingSlot:f(),noXPadding:i})};export{k as F,x as L,S as T,T as a,I as b,O as d,P as e,_ as g,C as h,b as l,j as s};
