import{t,_ as e,ay as o,g as s,J as a,az as n,aA as i,e as r}from"./shell-2264602c.js";import"./faceplate-tooltip-842394bc.js";import{s as c,x as l}from"./icon-82dd10b4.js";let h=class extends c{constructor(){super(...arguments),this.translationContextValue=n,this.handleObserverIntersection=t=>{t.forEach((t=>{t.isIntersecting&&(this.observer?.unobserve(this),this.canShowCoachmark()&&(setTimeout(this.open.bind(this),500),this.open()))}))}}connectedCallback(){super.connectedCallback(),this.connectObserver()}disconnectedCallback(){super.disconnectedCallback(),this.disconnectObserver()}connectObserver(){this.observer=new IntersectionObserver(this.handleObserverIntersection,{root:null,threshold:1}),this.observer.observe(this)}disconnectObserver(){this.observer?.disconnect?.()}canShowCoachmark(){return this.translationContextValue.isTranslationActive&&!this.translationContextValue.shouldDisplayCoachmark&&this.translationContextValue.shouldDisplayFeedbackCoachmark}open(){this.translationFeedbackCoachmark?.show()}onTooltipClosed(){const t=new CustomEvent("update-translation-context",{bubbles:!0,composed:!0,detail:{...this.translationContextValue,shouldDisplayFeedbackCoachmark:!1}});this.dispatchEvent(t)}close(){this.translationFeedbackCoachmark?.close(),this.dispatchEvent(new CustomEvent("feedback-tooltip-closed"))}render(){return this.canShowCoachmark()?l` <faceplate-tooltip position="bottom" appearance="inverted" trigger-event="none" id="translation-feedback-coachmark-tooltip" @faceplate-tooltip:closed="${this.onTooltipClosed}"> <div slot="trigger"> <slot></slot> </div> <div class="flex flex-col p-xs" @click="${this.close}" data-testid="feedback-tooltip-content"> <p class="my-0 max-w-[10rem] xs:max-w-none text-14 font-bold"> Rate this translation </p> </div> </faceplate-tooltip> `:l`<slot></slot>`}};h.styles=[t],e([o({context:i,subscribe:!0}),s()],h.prototype,"translationContextValue",void 0),e([a("#translation-feedback-coachmark-tooltip")],h.prototype,"translationFeedbackCoachmark",void 0),h=e([r("feedback-tooltip-overflow-menu")],h);
