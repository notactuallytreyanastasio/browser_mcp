import{ch as t}from"./age-gate-standalone-client-js-5357b0cf.js";import{b as e,hq as o,r as a,hr as s,hs as n}from"./shell-2264602c.js";let r=function(){try{return"1E4 bits"===new Intl.NumberFormat("en",{style:"unit",unit:"bit",unitDisplay:"long",notation:"scientific"}).format(1e4)}catch(t){return!1}}();const d=1e3,i=1e6,c=1e9,l=t=>t>=99999999949?`${Math.floor(t/c)}b`:t>=999999949&&t<99999999949?`${(t/c).toFixed(1)}b`:t>=99999949&&t<999999949?`${Math.floor(t/i)}m`:t>=999949&&t<99999949?`${(t/i).toFixed(1)}m`:t>=99949&&t<999949?`${Math.floor(t/d)}k`:t>=d&&t<99949?`${(t/d).toFixed(1)}k`:String(t);function u(e,o,a){if(r){const s=(null==a?void 0:a.options)||{notation:(null==a?void 0:a.short)?"compact":"standard"};return t(o,s).format(e)}return l(e)}const m=t=>!!t&&!!t.startsWith("r/"),p=(t,o,a)=>e(t,{...o?{post:{id:o,...m(a)?{subreddit_name:a}:{}}}:{},...m(a)?{subreddit:{name:a}}:{}}),h=(t,e,o,a)=>p({source:"boost_post",action:t,noun:e},o,a),y=t=>{const e=t.data?.adInsights,o=t.data?.identity,a=o?.email??"",s=t.data?.adAccountsByProfileId||[];return{adInsights:e,email:a,isOnboarded:s.length>0,adAccounts:s}},f={activateAndOpenPromotePostModal:async({postId:t,postType:e,subredditName:n,identity:r})=>{let d=document.getElementById(o);d||(await a({name:s}),d=document.getElementById(o)),d?.showModal({postId:t,postType:e,subredditName:n,identity:r})},activatePromotePostInsights:async({authorId:t,postId:e,postType:o,subredditName:a,adAccounts:s})=>{const r=document.querySelector(`faceplate-loader[name="${n}"]`),d=document.querySelector(`faceplate-partial#${n}-${e}`);r&&d&&(d.src+=`?postId=${e}`,d.src+=t?`&authorId=${t}`:"",d.src+=o?`&postType=${o}`:"",d.src+=a?`&subredditName=${a}`:"",d.src+=s?`&promotedAdAccounts=${encodeURI(JSON.stringify(s))}`:"",await Promise.all([r.load(),d.load()]))}};export{f as P,l as _,h as a,p as b,u as f,y as g,m as i};
