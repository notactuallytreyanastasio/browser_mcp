import{E as t,_ as e,n as s,e as i}from"./shell-2264602c.js";import{s as n}from"./icon-82dd10b4.js";let o=class extends n{constructor(){super(...arguments),this.open=!1,this._events=new t(this),this._firstUpdate=!0,this.updated=t=>{t.has("open")&&!this._firstUpdate&&(this.open?this._expand():this._collapse()),this._firstUpdate=!1},this._expand=()=>{this._content.style.display="block",this.offsetHeight!==this._content.offsetHeight&&(h(this,this._content.offsetHeight),this._content.style.opacity="1")},this._collapse=()=>{0!==this.offsetHeight&&(h(this,0),this._content.style.opacity="0")},this._onTransitionEnd=()=>{this.open?this.style.height="":(this.open=!1,this._content.style.display="none"),this.style.overflowY="visible"},this._handler=this._events.define("transitionend",this._onTransitionEnd)}connectedCallback(){super.connectedCallback(),this._content=this.querySelector("[faceplate-auto-height-animator-content]"),null!=this._content&&(this.style.transition="height 222ms ease",this._content.style.transition="opacity 222ms ease",this.open||(this.style.height="0px",this._content.style.display="none"),this.setAttribute("connected",""))}createRenderRoot(){return this}};function h(t,e){t.style.height=`${t.offsetHeight}px`,t.style.overflowY="hidden",window.requestAnimationFrame((()=>{t.style.height=`${e}px`}))}e([s({type:Boolean,reflect:!0})],o.prototype,"open",void 0),o=e([i("faceplate-auto-height-animator")],o);export{o as FaceplateAutoHeightAnimator};
