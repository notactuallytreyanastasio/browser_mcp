import{b3 as o,bC as e,bD as a,bl as r,bE as n}from"./shell-2264602c.js";import{B as s}from"./xpromo-20b40114.js";import{A as t}from"./helpers-e162eb2b.js";import"./icon-82dd10b4.js";import"./age-gate-standalone-client-js-5357b0cf.js";const c={[s.Back]:"secondary_cta",[s.Close]:"dismiss",[s.GetApp]:"primary_cta",[s.Login]:"secondary_cta",[s.Signup]:"secondary_cta",[s.DontShowAgain]:"dismiss"},i={[s.Login]:"primary_cta",[s.NotOver18]:"secondary_cta",[s.Over18]:"secondary_cta",[s.Back]:"dismiss"},p={[t.LOGIN]:"secondary_cta",[t.SIGNUP]:"secondary_cta",[t.OPEN_APP]:"primary_cta",[t.GOOGLE_SSO]:"primary_cta",[t.APPLE_SSO]:"primary_cta",[t.EMAIL]:"secondary_cta",[t.CLOSE]:"dismiss"},_="unknown";function m(s){const t=o(s),m=e()===a.Desktop,d=[];switch(t){case"global/view/screen":s.action_info?.trigger_type===n.Initial&&d.push({name:"shreddit_page_views",type:r.Counter,value:1});break;case"xpromo/view/app_selector":case"xpromo/view/bottom_bar":case"xpromo/view/marketplace_community_launch":case"xpromo/view/nsfw_blur":case"xpromo/view/top_button":case"xpromo/view/unrated_block":case"xpromo/view/viral_community":case"xpromo/view/ios_educational_deeplink":case"xpromo/view/lo_only_bottom_sheet":d.push(l({xpromo_name:s.noun}));break;case"xpromo/view/logged_in_action":d.push(l({xpromo_name:s.noun,target:s.action_info?.type||"other"}));break;case"xpromo/click/marketplace_community_launch":case"xpromo/dismiss/nsfw_blur":case"xpromo/click/nsfw_blur":case"xpromo/click/unrated_block":case"xpromo/click/app_selector":case"xpromo/click/viral_community":case"xpromo/click/ios_educational_deeplink":case"xpromo/click/lo_only_bottom_sheet":{const o=s?.popup?.button_text,e=m?i[o]||_:c[o]||_;e!==_&&d.push(u({target:e,xpromo_name:s.noun}));break}case"xpromo/click/logged_in_action":{const o=s.action_info?.type;d.push(u({xpromo_name:s.noun,target:p[o]||"other"}));break}case"xpromo/click/bottom_bar":case"xpromo/click/top_button":d.push(u({target:"primary_cta",xpromo_name:s.noun}));break;case"onboarding/click/login":case"onboarding/click/register":case"onboarding/click/signup_drawer":{const o=s.action_info?.type;o&&d.push({name:"shreddit_auth_flow_provider_clicks",type:r.Counter,value:1,labels:{auth_flow:s.noun,provider:o}});break}case"onboarding/resolve/login":case"onboarding/resolve/one_tap":case"onboarding/resolve/register":case"onboarding/resolve/signup_drawer":{const o=s?.action_info?.reason,e=s?.action_info?.type;o&&e&&d.push({name:"shreddit_auth_flow_resolved_accounts",type:r.Counter,value:1,labels:{auth_flow:s.noun,method:o,provider:e}});break}case"onboarding/dismiss/google_one_tap":{const o=s?.action_info?.reason;o&&d.push({name:"shreddit_google_one_tap_dismissed_moments",type:r.Counter,value:1,labels:{reason:o}});break}}return d}function l(o){return{name:"shreddit_xpromo_views",type:r.Counter,value:1,labels:o}}function u(o){return{name:"shreddit_xpromo_clicks",type:r.Counter,value:1,labels:o}}export{p as CSP_TARGET_BY_ACTION_INFO_TYPE,i as DESKTOP_XPROMO_TARGET_BY_MODAL_BUTTON_TEXT,c as XPROMO_TARGET_BY_MODAL_BUTTON_TEXT,m as getW3ReportsFromV2Event};
