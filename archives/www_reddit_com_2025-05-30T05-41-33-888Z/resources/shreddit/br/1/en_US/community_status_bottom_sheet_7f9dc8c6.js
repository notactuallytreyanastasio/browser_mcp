import{t,_ as e,n as s,e as o,b as i,a,J as r,a2 as n,w as l}from"./shell-2264602c.js";import{a as d,s as c,x as m}from"./icon-82dd10b4.js";import"./faceplate-hovercard-d2963f31.js";import{S as p,A as h,N as u}from"./community-status-telemetry-7d0e84ad.js";import"./app-selector-client-js-3a92da0e.js";var b;!function(t){t.small="small",t.medium="medium"}(b||(b={}));let y=class extends c{constructor(){super(...arguments),this.size=b.medium}render(){return m` <button class="flex items-center justify-center p-0 m-0 border-none rounded-sm h-[var(--emote-btn-size)] w-[var(--emote-btn-size)] bg-transparent hover:bg-neutral-background-hover cursor-pointer"> <slot class="emote"></slot> </button> `}};function g({pageType:t,url:e}){return{page_type:t,...e?{pane_name:e}:{}}}function f({subredditId:t,subredditName:e}){return{id:t,...e?{name:e}:{}}}y.styles=[d`:host{--emote-btn-size:2.25rem;--emote-size:1.75rem;display:block}:host([size=small]){--emote-btn-size:1.25rem;--emote-size:1.25rem}.emote::slotted(img){width:var(--emote-size);height:var(--emote-size);object-fit:contain;margin:0!important;padding:0!important}`,t],e([s({type:String,reflect:!0})],y.prototype,"size",void 0),y=e([o("community-status")],y);const v=t=>i({source:p.COMMUNITY_STATUS,action:h.CLICK,noun:u.STATUS_LINK},{action_info:g(t),subreddit:f(t)}),x=a(c);let k=class extends x{constructor(){super(...arguments),this.subredditId="",this.subredditName="",this.handleClick=()=>{this.hovercard?.close()},this.handleKeyUp=t=>{"Enter"===t.key&&this.handleClick()},this.handleStatusClicks=t=>{const e=t.composedPath().find((t=>t instanceof HTMLAnchorElement));e&&this.trackEvent(v({subredditId:this.subredditId,subredditName:this.subredditName,pageType:this._getPageType(),url:e.href}))},this._getPageType=n}render(){return m` <faceplate-hovercard position="bottom" appearance="inverted"> <span> <slot name="trigger"></slot> </span> <article slot="content" class="flex flex-col relative py-sm w-[184px]"> <div class="absolute right-2xs top-2xs"> <slot name="edit-btn" @click="${this.handleClick}" @keyup="${this.handleKeyUp}"></slot> </div> <div class="flex justify-center align-center"> <slot name="emote"></slot> </div> <p class="text-center m-0 mt-md line-clamp-12 text-12"> <slot name="status" @click="${this.handleStatusClicks}"></slot> </p> </article> </faceplate-hovercard> `}};k.styles=[d`slot[name=emote]::slotted(img){max-height:140px;max-width:148px!important;margin-bottom:0!important}faceplate-hovercard::part(content-container){background:var(--color-neutral-content-strong)}`,t],e([s({type:String,attribute:"subreddit-id"})],k.prototype,"subredditId",void 0),e([s({type:String,attribute:"subreddit-name"})],k.prototype,"subredditName",void 0),e([r("faceplate-hovercard")],k.prototype,"hovercard",void 0),k=e([o("community-status-tooltip")],k);const S=a(c);let T=class extends S{constructor(){super(...arguments),this.subredditId="",this.subredditName="",this.open=()=>{this.bottomSheet?.showModal()},this.close=()=>{this.bottomSheet?.close()},this.handleKeyUp=t=>{"Enter"!==t.key&&"Space"!==t.key||this.close()},this.handleStatusClicks=t=>{const e=t.composedPath().find((t=>t instanceof HTMLAnchorElement));e&&this.trackEvent(v({subredditId:this.subredditId,subredditName:this.subredditName,pageType:this._getPageType(),url:e.href}))},this._getPageType=n}render(){return m` <button @click="${this.open}" class="m-0 p-0 border-none bg-transparent"> <slot name="trigger"></slot> </button> <faceplate-bottom-sheet id="bottom-sheet"> <div class="flex flex-col w-full box-border px-md py-xl"> <div class="flex justify-center align-center"> <slot name="emote"></slot> </div> <p class="text-center m-0 line-clamp-8 text-14 font-semibold"> <slot name="status" @click="${this.handleStatusClicks}"></slot> </p> <slot @click="${this.close}" @keyup="${this.handleKeyUp}" name="primary-btn"></slot> ${l({appearance:"secondary",attributes:{onclick:this.close,className:"mt-sm",id:"close-button"},children:"Close"})} </div> </faceplate-bottom-sheet> `}};T.styles=[d`:host{display:inline-flex}slot[name=emote]::slotted(img){max-height:148px;margin-bottom:32px!important}slot[name=primary-btn]::slotted(*){margin-top:24px}`,t],e([s({type:String,attribute:"subreddit-id"})],T.prototype,"subredditId",void 0),e([s({type:String,attribute:"subreddit-name"})],T.prototype,"subredditName",void 0),e([r("#bottom-sheet")],T.prototype,"bottomSheet",void 0),T=e([o("community-status-bottom-sheet")],T);
