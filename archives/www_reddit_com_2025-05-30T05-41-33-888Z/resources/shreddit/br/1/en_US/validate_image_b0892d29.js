import{_ as e,n as t,e as a,o as i}from"./shell-2264602c.js";import{a as r,x as o,l as n}from"./icon-82dd10b4.js";import{T as s,l}from"./text-input-7536667a.js";import{co as p,be as m}from"./age-gate-standalone-client-js-5357b0cf.js";var d;!function(e){e.BORDERED="bordered",e.SECONDARY="secondary"}(d||(d={}));let c=class extends s{constructor(){super(...arguments),this.prefix="",this.type="text",this.appearance=d.SECONDARY,this.persistentTrailingIcon=!1,this.withSelect=!1}static get styles(){return[super.styles,r`input{outline:0;background:0 0;border:none;width:100%}:host([appearance=bordered]) .label-container:not(.without-label) .input-container.stateful-input{transform:translateY(0)}::slotted([slot=leadingIcon]){margin-right:var(--spacer-xs);display:flex}.input-prefix{margin-right:var(--spacer-4xs)}.input-suffix{margin-left:var(--spacer-4xs)}.input-prefix,.input-suffix{flex-shrink:0}:host([appearance=bordered]) .label-container{border-radius:20px 20px 0 0;align-items:flex-end;padding-bottom:var(--spacer-2xs)}:host([appearance=bordered]) .input-boundary-box{margin-bottom:var(--rem6);align-items:center;padding:0}:host .label-container.without-label{height:var(--rem40)}:host(:focus-within) .label-container:not(.with-trailing-button) ::slotted([slot=clearButton].has-value),:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) ::slotted([slot=clearButton].has-value){display:inline-block}`]}dispatchFocusin(){}render(){return super.renderInput(o`<input ?readonly="${this.readonly}" type="${this.type}" pattern="${n(this.pattern)}" @input="${this.onInput}" @change="${this.onChange}" @mouseover="${e=>e.stopPropagation()}" .value="${l(this.value)}" name="${n(this.withSelect?void 0:this.name)}" minlength="${n(this.minLength)}" maxlength="${n(this.allowMaxLengthOverflow?void 0:this.maxLength)}" min="${n(this.min)}" max="${n(this.max)}" placeholder="${n(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${n(this.autocomplete)}" inputmode="${n(this.inputmode)}" step="${n(this.step)}">`)}};async function g(e){const t=URL.createObjectURL(e),{width:a,height:i}=await function(e){return new Promise(((t,a)=>{const i=new Image;i.onload=()=>{t({width:i.width,height:i.height})},i.onerror=e=>{a(e)},i.src=e}))}(t);return{src:t,type:e.type,size:e.size,width:a,height:i}}e([t({type:String})],c.prototype,"prefix",void 0),e([t({type:String})],c.prototype,"type",void 0),e([t({type:String})],c.prototype,"pattern",void 0),e([t({converter:e=>"string"==typeof e&&"any"===e.toLowerCase()?"any":isNaN(e)?void 0:Number(e)})],c.prototype,"step",void 0),e([t({type:Number})],c.prototype,"min",void 0),e([t({type:Number})],c.prototype,"max",void 0),e([t({type:String,reflect:!0})],c.prototype,"appearance",void 0),e([t({type:Boolean,attribute:"persistent-trailing-icon"})],c.prototype,"persistentTrailingIcon",void 0),e([t({type:Boolean,attribute:"with-select"})],c.prototype,"withSelect",void 0),c=e([a("faceplate-text-input")],c);let h=p({videoMinDimensionError:(e,t)=>`Videos must be at least ${e}x${t}`,videoMinRateError:e=>`Videos must have a bitrate of at least ${Math.floor(e)}KB/s`,videoCodecError:()=>"Unsupported video codec",videoIsTooShortError:e=>i({count:e,one:`Videos must be at least ${e} second`,few:`Videos must be at least ${e} seconds`,many:`Videos must be at least ${e} seconds`,other:`Videos must be at least ${e} seconds`}),videoIsTooLongError:e=>i({count:e,one:`Videos must be shorter than ${e} minute`,few:`Videos must be shorter than ${e} minutes`,many:`Videos must be shorter than ${e} minutes`,other:`Videos must be shorter than ${e} minutes`}),videoMaxSizeError:e=>`Videos must be ${e}GB or smaller`,videoMimetypeError:()=>"Upload an MP4 or MOV",imageMaxSizeError:e=>`Upload an image less than ${e}MB`,imageMaxSizeErrorKB:e=>`Upload an image less than ${e}KB`,gifMaxSizeError:e=>`Upload a GIF less than ${e}MB`,gifMaxSizeErrorKB:e=>`Upload a GIF less than${e}KB`,imageMaxDimensionError:(e,t)=>`Upload an image smaller than ${e}x${t}`,imageMinDimensionError:(e,t)=>`Upload an image at least ${e}x${t}`,imageOnlyGifsError:()=>"Upload a GIF",imageOnlyStaticImagesError:()=>"Upload a PNG, JPG, WEBP",imageStaticOrGifError:()=>"Upload a PNG, JPG, WEBP, or GIF",or:()=>"or ",imageTypeJoin:e=>`${u(e).reduce(((e,t,a,i)=>`${e}${f(a,i)}${E(a,i)}${t}`),"")}`,imageInvalidTypeErrorGeneric:()=>"Upload an image",imageInvalidTypeErrorSpecified:e=>`Upload a ${e}`});const u=e=>e.reduce(((e,t)=>{const a=m.get(t)||t;return e.includes(a)?e:[...e,a]}),[]),f=(e,t)=>e>0?t.length>2?", ":" ":"",E=(e,t)=>t.length>1&&e===t.length-1?h.or():"",I=["image/jpeg","image/png","image/webp"],y=["image/gif"],v=[...I,...y],x=1024,$=1048576,b=20971520,M=104857600,S=e=>e.split(",").map((e=>e.trim())),w=e=>{const t="accept"in e?e.accept:void 0,{allowStaticImages:a=!1,allowAnimatedImages:i=!1}="allowStaticImages"in e?e:{};return{accept:t,allowStaticImages:a,allowAnimatedImages:i}};function R(e){const{accept:t,allowStaticImages:a,allowAnimatedImages:i}=w(e);if(t&&t?.includes("image/*"))return h.imageInvalidTypeErrorGeneric();if(t){const e=S(t);return h.imageInvalidTypeErrorSpecified(h.imageTypeJoin(e))}return i&&!a?h.imageOnlyGifsError():a&&!i?h.imageOnlyStaticImagesError():h.imageStaticOrGifError(t)}function G(e){const t=[],{accept:a,allowStaticImages:i,allowAnimatedImages:r}=w(e);return a?S(a):(i&&t.push(...I),r&&t.push(...y),t)}function O(e,t){const{width:a,height:i,type:r,size:o}=e,{minImageDimension:n,maxImageDimension:s,maxImageFileSize:l=b,maxGifFileSize:p=M}=t,{accept:m,allowStaticImages:d,allowAnimatedImages:c}=w(t),g=G(t);if(!(g.includes(r)||g.includes("image/*")&&r.startsWith("image/")))return{valid:!1,error:R(m?{accept:m}:{allowStaticImages:d,allowAnimatedImages:c}),reason:"INVALID_IMAGE_TYPE_ERROR"};if(n&&(a<n||i<n))return{valid:!1,error:h.imageMinDimensionError(n,n),reason:"IMAGE_MIN_DIMENSION_ERROR"};if(s&&(a>s||i>s))return{valid:!1,error:h.imageMaxDimensionError(s,s),reason:"IMAGE_MAX_DIMENSION_ERROR"};if("image/gif"===r&&o>p){return{valid:!1,error:Math.floor(p/$)<1?h.gifMaxSizeErrorKB(Math.floor(p/x)):h.gifMaxSizeError(Math.floor(p/$)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}if(r.startsWith("image/")&&"image/gif"!==r&&o>l){return{valid:!1,error:Math.floor(l/$)<1?h.imageMaxSizeErrorKB(Math.floor(l/x)):h.imageMaxSizeError(Math.floor(l/$)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}return{valid:!0,error:null}}export{c as F,v as S,d as T,G as a,g,h as u,O as v};
