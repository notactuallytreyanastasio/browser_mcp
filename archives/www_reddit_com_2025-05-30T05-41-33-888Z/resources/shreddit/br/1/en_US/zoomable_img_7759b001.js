import{_ as e,g as i,n as t,e as s,E as o,aF as a}from"./shell-2264602c.js";import{o as l}from"./age-gate-standalone-client-js-5357b0cf.js";import{s as n}from"./icon-82dd10b4.js";let d=class extends n{constructor(){super(...arguments),this.fillContainer=!1,this.zoomedIn=!1,this.disabled=!1,this.media=null,this._events=new o(this),this._click=this._events.define("click",this.onClick),this.checkMediaSize=()=>{let e=0,i=0;if(this.media instanceof HTMLVideoElement)e=this.media.videoWidth,i=this.media.videoHeight;else{if(!this.media||this.media&&!this.media.complete)return;e=this.media.naturalWidth,i=this.media.naturalHeight}this.disabled=e<=this.clientWidth&&i<=this.clientHeight,this.zoomedIn=!this.disabled&&this.zoomedIn},this.checkMediaSizeDebounced=a(this.checkMediaSize,100)}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.media=this.querySelector("img,video"),this.media&&this.media.addEventListener("load",this.checkMediaSize,{once:!0}),requestAnimationFrame(this.checkMediaSize),window.addEventListener("resize",this.checkMediaSizeDebounced)}firstUpdated(){this.checkMediaSize()}onClick(e){e.target===this.media&&(this.disabled||(this.zoomedIn=!this.zoomedIn))}render(){this.media&&this.media.setAttribute("class",this.getChildClassList()),this.setAttribute("class",this.getClasslist())}getClasslist(){return l("fixed","left-0","w-100","bottom-0","flex","box-border",this.fillContainer?"h-full":"top-[58px] p-md h-[calc(100vh-8rem)]",this.zoomedIn?"overflow-auto items-baseline":"justify-center items-center")}getChildClassList(){return l(this.fillContainer?"min-h-full object-contain":null,this.fillContainer&&!this.zoomedIn?"h-full w-full":null,"m-0",this.disabled?"max-h-full max-w-full":this.zoomedIn?"cursor-zoom-out max-w-none max-h-none mr-auto ml-auto":"cursor-zoom-in max-h-full max-w-full")}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.checkMediaSizeDebounced),this.zoomedIn=!1}};e([t({attribute:"fill-container",type:Boolean})],d.prototype,"fillContainer",void 0),e([i()],d.prototype,"zoomedIn",void 0),e([i()],d.prototype,"disabled",void 0),d=e([s("zoomable-img")],d);
