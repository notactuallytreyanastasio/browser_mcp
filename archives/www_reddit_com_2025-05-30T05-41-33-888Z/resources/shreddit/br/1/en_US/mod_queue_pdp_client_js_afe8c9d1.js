import{_ as t,n as e,e as s,c as i}from"./shell-2264602c.js";import{s as n,a as r,x as a}from"./icon-82dd10b4.js";let o=class extends n{constructor(){super(...arguments),this.size=1/0,this.target="",this.isBatching=!1}static get styles(){return r`:host{display:block}`}render(){return a` <slot></slot> `}getCurrentTarget(t=this){return this.target&&t.querySelector(this.target)||t}async batchInsert(t){if(this.isBatching)throw new Error("Cannot call batchInsert while batching is already in progress");const e=this.getCurrentTarget();if(!(e instanceof HTMLElement))throw new TypeError("Target element must be instance of HTMLElement");const s=i("faceplate-batch-begin",{size:this.size,count:t.length});if(e.dispatchEvent(s),s.defaultPrevented)return;this.isBatching=!0;const n=()=>{if(t.length){const s=t.slice(0,this.size),i=document.createDocumentFragment();for(let e=0;e<s.length;e++)i.appendChild(t[e]);e.appendChild(i)}t.length>this.size?(t=t.slice(this.size),window.setTimeout(n)):(e.style.willChange="unset",this.isBatching=!1)};e.style.willChange="contents",await n()}};t([e({type:Number})],o.prototype,"size",void 0),t([e({type:String})],o.prototype,"target",void 0),o=t([s("faceplate-batch")],o);export{o as F};
