import{_ as e,g as t,n as s,e as o}from"./shell-2264602c.js";import{s as i,a as c,x as a}from"./icon-82dd10b4.js";const n=["input","a","faceplate-checkbox-input","faceplate-radio-input","faceplate-switch-input "],r=({collection:e,activeIndex:t})=>{let s=0;for(const o of e){o.tabIndex=s===t?0:-1;for(const e of Array.from(o.children)){const o=e.querySelector(n.join(","));o&&o instanceof HTMLElement&&(o.tabIndex=s===t?0:-1)}s++}};let l=class extends i{constructor(){super(...arguments),this.disableAutoFocus=!1,this.ariarole="menu",this.activeIndex=0,this.firstUpdated=()=>{this.prevFocusedElement=document.activeElement,this.hasAttribute("hidden")?this.toggleItemsTabbable(!1):this.openMenu()},this.toggleItemsTabbable=(e=!0,{overrideActiveIndex:t}={})=>{r({collection:this.getFocusableListItems(),activeIndex:t??(e?0:-1)})},this.openMenu=async()=>{const e=this.getFocusableListItems().findIndex((e=>"true"===e.getAttribute("aria-selected")));this.toggleItemsTabbable(!0,{overrideActiveIndex:-1===e?void 0:e}),this.disableAutoFocus||(e>=0&&e!==this.activeIndex&&(this.activeIndex=e),this.getFocusableListItems()[this.activeIndex]?.focus())},this.closeMenu=()=>{this.toggleItemsTabbable(!1)},this.setFocus=e=>{this.getFocusableListItems()[e]?.focus(),this.activeIndex=e},this.onFocusNext=()=>{const e=this.activeIndex===this.getFocusableListItems().length-1?0:this.activeIndex+1;r({collection:this.getFocusableListItems(),activeIndex:e}),this.setFocus(e)},this.onFocusPrev=()=>{const e=0===this.activeIndex?this.getFocusableListItems().length-1:this.activeIndex-1;r({collection:this.getFocusableListItems(),activeIndex:e}),this.setFocus(e)},this.onKeyDown=e=>{switch(e.key){case"Escape":this.prevFocusedElement.focus(),this.onclose&&this.onclose(e);break;case"ArrowDown":case"ArrowRight":this.onFocusNext(),e.preventDefault();break;case"ArrowUp":case"ArrowLeft":this.onFocusPrev(),e.preventDefault()}}}static get styles(){return c`:host{background-color:var(--color-neutral-background-strong)}ul{padding:var(--spacing-sm) 0;margin:0}`}getFocusableListItems(){const e="li:not([list-item-group]):not([list-item-header])",t=this.shadowRoot.querySelector("slot"),s=[];for(const o of t.assignedElements({flatten:!0}))o?.matches(e)&&s.push(o),s.push(...Array.from(o.querySelectorAll(e)));return s.map((e=>e.firstElementChild))}render(){return a` <ul role="${this.ariarole}" @keydown="${this.onKeyDown}"> <slot></slot> </ul> `}};e([s({type:Boolean,attribute:"disable-auto-focus"})],l.prototype,"disableAutoFocus",void 0),e([s({type:String})],l.prototype,"ariarole",void 0),e([t()],l.prototype,"activeIndex",void 0),l=e([o("faceplate-menu")],l);const u="community-picker-others",h="community-picker-your-communities",d="community-picker-your-profile",m="community-picker-default";export{m as C,h as a,u as b,d as c};
