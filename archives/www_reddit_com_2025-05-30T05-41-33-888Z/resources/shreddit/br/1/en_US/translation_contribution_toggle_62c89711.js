import{a as t,t as e,_ as i,ay as s,g as o,n,az as a,aA as r,e as l}from"./shell-2264602c.js";import{t as d,a as c,b as h,c as g}from"./translations-8a80e526.js";import{s as m,x as p}from"./icon-82dd10b4.js";import"./index-911356a8.js";const u=t(m);let v=class extends u{constructor(){super(...arguments),this.translationContextValue=a,this.checked=!0,this.isViewEventSent=!1,this.renderTitleText=()=>p` ${this.isCommentToggle()?"Translate comment":"Translate post"} `,this.renderbodyText=()=>p` ${this.isCommentToggle()?"You are commenting in a community speaking a language different from yours.":"You are posting in a community speaking a language different from yours."} `}getCommentIdForEditMode(){const t=this.closest("comment-composer-host");if(t&&t.isInEditMode)return this.closest("shreddit-comment")?.getAttribute("thingId")}updated(){if(this.translationContextValue.isTranslationActive&&!this.isViewEventSent){if(this.isCommentToggle()){const t=this.getCommentIdForEditMode();this.trackEvent(d(t))}else this.isPostToggle()&&this.trackEvent(c(this.thingId));this.isViewEventSent=!0}}handleToggleClick(t){if(t.preventDefault(),t.stopPropagation(),this.checked=!this.checked,this.isCommentToggle()){const t=this.getCommentIdForEditMode();this.trackEvent(h(this.checked,t))}this.isPostToggle()&&this.trackEvent(g(this.checked,this.thingId))}isCommentToggle(){return"comment"===this.toggleType}isPostToggle(){return"post"===this.toggleType}render(){if(!this.translationContextValue.isTranslationActive)return p``;const t=this.isCommentToggle()?"flex ml-sm mb-2xs justify-between":"flex justify-between py-md";return p` <div class="${t}"> <div> <div class="font-normal text-14 leading-5 text-secondary-plain"> ${this.renderTitleText()} </div> <div class="font-normal text-12 leading-4 text-secondary-plain-weak"> ${this.renderbodyText()} </div> </div> <faceplate-switch-input ?checked="${this.checked}" @click="${this.handleToggleClick}"></faceplate-switch-input> </div> `}};v.styles=[e],i([s({context:r,subscribe:!0}),o()],v.prototype,"translationContextValue",void 0),i([n({type:String,attribute:"toggle-type"})],v.prototype,"toggleType",void 0),i([n({type:String,attribute:"thing-id"})],v.prototype,"thingId",void 0),i([o()],v.prototype,"checked",void 0),i([o()],v.prototype,"isViewEventSent",void 0),v=i([l("translation-contribution-toggle")],v);
