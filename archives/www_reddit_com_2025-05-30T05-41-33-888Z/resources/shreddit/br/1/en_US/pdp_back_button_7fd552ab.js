import{t as e,_ as t,n as i,E as a,w as n,x as s,e as o}from"./shell-2264602c.js";import{s as r,x as d,O as c,I as l}from"./icon-82dd10b4.js";let p=class extends r{constructor(){super(...arguments),this._windowEvents=new a(this,(()=>window)),this.enableEscapeKey=!1,this.handleBackClick=()=>{if(void 0===window.navigation)return void history.back();if(!this.subredditPrefixedName&&!this.postId)return void history.back();const e=window.navigation.currentEntry;if(e&&e.url){const t=e.index,i=new URL(e.url);for(let e=t-1;e>=0;e--){const t=window.navigation.entries()[e];if(t.url){const e=new URL(t.url);if(e.host===i.host&&e.pathname!==i.pathname)return void window.navigation.traverseTo(t.key)}}}const t=this.subredditPrefixedName?`/${this.subredditPrefixedName}/`:"/";window.navigation.navigate(t)},this.handleEscKey=this._windowEvents.define("keydown",(e=>{if(this.enableEscapeKey&&"Escape"===e.key){if(e.target instanceof Element){const t=null!==e.target.closest('[contenteditable="true"]'),i=null!==e.target.closest("faceplate-hovercard"),a=i&&"dialog"===e.target.getAttribute("aria-haspopup");if(t||i&&!a)return}this.handleBackClick()}}))}render(){const e="Back";return d` ${n({appearance:"secondary",attributes:{type:"button","aria-label":e,onclick:this.handleBackClick},size:s.Small,screenReaderContent:e,leadingIcon:c({size:l.Small})})} `}};p.styles=[e],t([i({attribute:"subreddit-prefixed-name"})],p.prototype,"subredditPrefixedName",void 0),t([i({attribute:"post-id"})],p.prototype,"postId",void 0),t([i({type:Boolean,attribute:"enable-escape-key"})],p.prototype,"enableEscapeKey",void 0),p=t([o("pdp-back-button")],p);
