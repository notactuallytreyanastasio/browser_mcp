import{H as e,b as o,bK as t,e5 as s,bG as a,gd as n,gc as i,dJ as r}from"./shell-2264602c.js";import{g as d}from"./age-gate-standalone-client-js-5357b0cf.js";var c,u;!function(e){e.SubredditFeed="SubredditFeed",e.CustomFeed="CustomFeed",e.AggregateFeed="AggregateFeed",e.BestOfRedditPage="BestOfRedditPage",e.CommentsPage="CommentsPage",e.Comment="Comment",e.ListingBelowSubredditPosts="ListingBelowSubredditPosts",e.ListingBelowLinkedPosts="ListingBelowLinkedPosts",e.MatureFeed="MatureFeed",e.PopularFeed="PopularFeed",e.PostStatsPage="PostStatsPage",e.ProfileFeed="ProfileFeed",e.ProfileFeed2="ProfileFeed2",e.ProfileTrendingConvos="ProfileTrendingConvos",e.BrandMentionFeed="BrandMentionFeed",e.BrandPostPerformanceFeed="BrandPostPerformanceFeed",e.SearchResultsPage="SearchResultsPage",e.RecommendsFeed="RecommendsFeed",e.RightRail="RightRail",e.ModChatChannels="ModChatChannels",e.ModQueue="ModQueue",e.ModQueueAll="ModQueueAll",e.ModNotesRail="ModNotesRail",e.ModLog="ModLog",e.UserManagement="UserManagement",e.ModRules="ModRules",e.ModWiki="ModWiki",e.ModCommunityGoldPage="ModCommunityGoldPage",e.ClubAwardsPage="ClubAwardsPage",e.ModClubAwardsPage="ModClubAwardsPage"}(c||(c={})),function(e){e.Scheduled="scheduled",e.Live="live",e.Ended="ended"}(u||(u={}));const l="max-h-[253px] overflow-hidden s:max-h-[318px] m:max-h-[337px] l:max-h-[352px] xl:max-h-[452px]",m="hidden",p="flex",f="overflow-hidden h-[60px] embed-xs:h-[80px]",_="h-[316px]",g="partial-update",w=e=>e.startsWith("t3_"),h=e=>`${e}`.startsWith("t3_")?`${e}`:`t3_${e}`;function P(e){return`https://www.redditmedia.com/mediaembed/${e.replace("t3_","")}/`}function b(o){return o===e.Home}function v(o){return o===e.Popular}function k(e){switch(e){case c.AggregateFeed:case c.SubredditFeed:case c.CustomFeed:case c.ListingBelowLinkedPosts:case c.ListingBelowSubredditPosts:case c.MatureFeed:case c.PopularFeed:case c.ProfileFeed:case c.ProfileFeed2:case c.BrandMentionFeed:case c.BrandPostPerformanceFeed:case c.ModQueue:case c.ModQueueAll:case c.ModLog:case c.ModNotesRail:return!0;case c.CommentsPage:default:return!1}}function M(e){return e===c.CommentsPage}function C(e){return e===c.BrandMentionFeed}function F(e){return e===c.ListingBelowLinkedPosts||e===c.ListingBelowSubredditPosts}const T=e=>e===c.ModQueue||e===c.ModQueueAll||e===c.CommentsPage||e===c.SubredditFeed||e===c.ProfileFeed||e===c.ProfileFeed2,I=/^.*?\/(?:u|user|r)\/(?:[a-zA-Z0-9_-]+)\/comments\/(?<postId>[a-zA-Z0-9]+)(?:(?:\/|\?).*|$)/;function A(e){const o=e.match(I),t=o?.groups?.postId;if(t)return h(t)}const x=e=>B(e,r)?e:void 0,B=(e,o)=>Object.values(o).includes(e),L=(e,o)=>void 0===e?void 0:o(e);function S(e){return e&&F(e)?"post_detail":"post"}function R(e){return S(e.viewContext)}const O=({archived:e,authorId:o,createdTimestamp:t,domain:s,id:a,feedIndex:r,nsfw:d,isStickied:c,isHighlighted:u,postTitle:l,postType:m,promoted:p,recommendationSource:f,recommendationSubredditId:_,recommendationSubredditName:g,score:w,spoiler:h,subredditId:P,subredditPrefixedName:b,viewType:v,commentCount:k,permalink:M,awardId:C})=>{const F=L(m,x),T=L(t,i),I={name:b?.toLowerCase(),id:P};return{...C?{id:C}:void 0,post:{archived:e,author_id:o,created_timestamp:T,domain:s,id:a,nsfw:d,pinned:c,highlighted:u,promoted:p,score:w,spoiler:h,subreddit_id:P,subreddit_name:I.name,title:l,type:F,recommendation_source:f?.toLowerCase(),recommendation_source_subreddit_id:_,recommendation_source_subreddit_name:g,number_comments:k,url:M},screen:{view_type:n(v)},subreddit:I,action_info:{position:r}}},N=e=>({...O(e),feed:t()}),y=({fields:e,post:o,postIsTranslated:t,reason:a,withTranslationMetrics:n})=>{const{postLanguage:i,translationLanguage:r}=o;return e={...e,post:{...e.post,language:i,translation_language:r,translation_state:t},..."boolean"==typeof n&&{translation_metrics:s()},...a&&{action_info:{...e.action_info,reason:a}}}};function $(e,o){return{...o?y({fields:N(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}):N(e),new_award:{id:e.awardId,is_content_eligible:Boolean(e.isAwardable)}}}const E=(e,t)=>o({source:R(e),action:"view",noun:"post"},$(e,t)),Q=(e,s,a={})=>o({source:R(e),action:"click",noun:s},{...e.viewContext&&F(e.viewContext)?$(e,!!e.isTranslatable):a,feed:t()}),z=e=>Q(e,"share",O(e)),W=e=>Q(e,"share_copy",O(e)),Z=e=>Q(e,"comments",O(e)),D=e=>Q(e,"view_all_comments",O(e)),U=e=>o({source:"event_post",action:"click",noun:"rsvp"},{...O(e)}),j=e=>o({source:"event_post",action:"click",noun:"un_rsvp"},{...O(e)}),H=2e3,V=(e,t)=>o({source:"post",action:"consume",noun:"post"},{...t?y({fields:N(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}):N(e),new_award:{id:e.awardId,is_content_eligible:Boolean(e.isAwardable)}}),G=(e,t)=>o({source:"translate_button",action:"view",noun:"post"},y({fields:N(e),post:e,postIsTranslated:t,reason:t?"on":"off"})),J=e=>o({source:R(e),action:"click",noun:"upvote"},{...e.isTranslatable?y({fields:N(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}):N(e)}),K=e=>o({source:R(e),action:"click",noun:"downvote"},{...e.isTranslatable?y({fields:N(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}):N(e)}),Y=e=>o({source:R(e),action:"click",noun:"clearvote"},N(e)),X=e=>o({source:R(e),action:"click",noun:"vote_try"},O(e)),q=e=>o({source:R(e),action:"click",noun:"read_more"},N(e)),ee=e=>o({source:"subreddit_hovercard",action:"view",noun:"hover_subreddit_hovercard"},N(e)),oe=e=>o({source:"user_hovercard",action:"view",noun:"hover_user_hovercard"},N(e)),te=(e,o)=>{switch(d(e,"postClickLocation")){case a.SUBREDDIT_LINK:return(e=>Q(e,"subreddit",O(e)))(o);case a.JOIN:return(e=>Q(e,"subscribe",O(e)))(o);case a.OVERFLOW_BUTTON:case a.COMMENTS_BUTTON:case a.VOTE:case a.SHARE:case a.VIDEO_PLAYER:return null;case a.TEXT_BODY:return(e=>Q(e,"text",O(e)))(o);default:return(e=>Q(e,"post",O(e)))(o)}},se=e=>o({source:"post",action:"leave",noun:"post",visibility:{on_screen_timestamp:e.becameVisibleOnScreenTimestamp,off_screen_timestamp:Date.now()}},N(e)),ae=e=>o({source:S(e),action:"click",noun:"post_overflow_menu"}),ne=e=>o({source:S(e),action:"click",noun:"save"}),ie=e=>o({source:S(e),action:"click",noun:"pin"}),re=e=>o({source:S(e),action:"click",noun:"unpin"}),de=e=>o({source:S(e),action:"click",noun:"hide"}),ce=e=>o({source:S(e),action:"click",noun:"report"}),ue=(e,t)=>o({source:S(e),action:"click",noun:"overflow_show_less"},t),le=e=>o({source:S(e),action:"click",noun:"edit"}),me=e=>o({source:S(e),action:"click",noun:"delete"}),pe=({markedAsSpoiler:e,viewContext:t})=>o({source:S(t),action:"click",noun:e?"mark_spoiler":"unmark_spoiler"}),fe=({markedAsNsfw:e,viewContext:t})=>o({source:S(t),action:"click",noun:e?"mark_nsfw":"unmark_nsfw"}),_e=({markedAsBrandAffiliate:e,viewContext:t})=>o({source:S(t),action:"click",noun:e?"mark_brand_affiliate":"unmark_brand_affiliate"}),ge=({turnNotificationsOn:e,viewContext:t})=>o({source:S(t),action:"click",noun:e?"turn_notifications":"unsend_reply_notifications"}),we=e=>o({source:S(e),action:"click",noun:"update_post_flair"}),he=(e,t)=>o({source:S(e),action:t?"undo":"click",noun:"follow"}),Pe=e=>o({source:"ad_overflow",action:"hide",noun:"ad"},e),be=e=>`${e}`.startsWith("t1_")?`${e}`:`t1_${e}`,ve=/^.*\/r\/.*\/comments\/(?<postId>[a-zA-Z0-9]+)\/.*\/?$/;function ke(e){const o=(e?.getAttribute("href")||"").match(ve),t=o?.groups?.postId;return t?h(t):""}const Me=/\/comments\/(?<postId>[a-zA-Z0-9]+)\/[a-zA-Z0-9_.%]*\/*(?<commentId>[a-zA-Z0-9]*)/,Ce=/\/r\/([^/]+)\/$/;function Fe(e){const o=e?(e=>(e?.getAttribute("href")||"").match(Me))(e):null;if(!o)return{postId:"",commentId:""};const t=o?.groups?.postId,s=o?.groups?.commentId;return{postId:t?h(t):"",commentId:s?be(s):""}}function Te(e){const o=(e?.getAttribute("href")||"").match(Ce);return o?o[1]:""}export{W as $,u as A,g as B,ge as C,de as D,Z as E,m as F,p as G,ae as H,U as I,j as J,be as K,Fe as L,f as M,Te as N,A as O,c as P,se as Q,V as R,l as S,_ as T,q as U,v as V,b as W,M as X,C as Y,F as Z,z as _,H as a,te as a0,Y as a1,J as a2,X as a3,K as a4,ee as a5,oe as a6,P as b,y as c,N as d,h as e,E as f,O as g,ke as h,w as i,T as j,D as k,ce as l,Pe as m,ue as n,k as o,G as p,le as q,we as r,ne as s,he as t,re as u,ie as v,me as w,pe as x,fe as y,_e as z};
